{
    "name": "StockVest MVP Monitor",
    "nodes": [
      {
        "parameters": {
          "jsCode": "// StockVest é…ç½®ä¸­å¿ƒ\nreturn {\n  // å½“å‰è¦ç›‘æ§çš„è‚¡ç¥¨ä»£ç  (Finnhub æ ‡å‡†)\n  symbol: \"NVDA\",\n  \n  // æŠ¥è­¦é˜ˆå€¼é…ç½® (å•ä½: %)\n  thresholds: {\n    \"NVDA\": 1,    // è‹±ä¼Ÿè¾¾ï¼šç¨³å¥ï¼Œ3% æŠ¥è­¦\n    \"TSLA\": 6,    // ç‰¹æ–¯æ‹‰ï¼šå¦–è‚¡ï¼Œ6% æŠ¥è­¦\n    \"AAPL\": 2     // è‹¹æœï¼šæ³¢åŠ¨å°ï¼Œ2% æŠ¥è­¦\n  },\n  \n  // ä½ çš„ Finnhub API Key (ä¹Ÿå¯ä»¥å¡«åœ¨è¿™é‡Œæ–¹ä¾¿ç®¡ç†ï¼Œæˆ–è€…ç›´æ¥å†™åœ¨HTTPèŠ‚ç‚¹)\n  api_token: \"YOUR_FINNHUB_KEY_HERE\" \n}"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -96,
          -256
        ],
        "id": "c008fec9-ef7b-4348-b1a8-9431b49390fc",
        "name": "Config",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "minutes",
                "minutesInterval": 30
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.3,
        "position": [
          -320,
          -256
        ],
        "id": "9aef8de5-8b69-42b7-ae88-0566498466da",
        "name": "Schedule Trigger",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "url": "https://finnhub.io/api/v1/quote",
          "sendQuery": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "symbol",
                "value": "={{ $json.symbol }}"
              },
              {
                "name": "token",
                "value": "={{ $json.api_token }}"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          128,
          -256
        ],
        "id": "09e0fa78-6f23-435d-9277-95995fcdc732",
        "name": "HTTP Request"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "97ad8fdc-9dca-4d23-b857-661a4e98d46f",
                "leftValue": "={{ Math.abs($json.dp) }}",
                "rightValue": "={{ $('Config').item.json.thresholds[$('Config').item.json.symbol] }}",
                "operator": {
                  "type": "number",
                  "operation": "gt"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          352,
          -256
        ],
        "id": "49cb1541-9f14-4fb0-a1ec-f13b264099d9",
        "name": "If",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "fromEmail": "your_email@gmail.com",
          "toEmail": "your_email@gmail.com",
          "subject": "=ã€StockVestè­¦æŠ¥ã€‘{{ $('Config').item.json.symbol }} æ³¢åŠ¨å¼‚å¸¸ï¼",
          "emailFormat": "text",
          "text": "=ğŸš¨ ã€StockVest ç›‘æ§è­¦æŠ¥ã€‘: {{ $('Config').item.json.symbol }}\n\n----------------------------------------\nğŸ’° å½“å‰ä»·æ ¼: ${{ $('HTTP Request').item.json.c }}\nğŸ“ˆ ä»Šæ—¥æ¶¨è·Œ: {{ $('HTTP Request').item.json.dp.toFixed(2) }}% ( ${{ $('HTTP Request').item.json.d }} )\n----------------------------------------\n\nğŸ“Š å¸‚åœºå¹¿åº¦:\nâ€¢ ä»Šæ—¥æœ€é«˜ (High): ${{ $('HTTP Request').item.json.h }}\nâ€¢ ä»Šæ—¥æœ€ä½ (Low) : ${{ $('HTTP Request').item.json.l }}\nâ€¢ æ˜¨æ”¶ä»·æ ¼ (Prev): ${{ $('HTTP Request').item.json.pc }}\n\nğŸ’¡ ç®€å•çš„åˆ†æ:\nå½“å‰ä»·æ ¼è·ç¦»ä»Šæ—¥æœ€é«˜ç‚¹è¿˜å·® ${{ ($('HTTP Request').item.json.h - $('HTTP Request').item.json.c).toFixed(2) }}\n(å¦‚æœå·®å€¼å¾ˆå°ï¼Œè¯´æ˜éå¸¸å¼ºåŠ¿ï¼)\n\n----------------------------------------\nğŸ¤– è§¦å‘é˜ˆå€¼: {{ $('Config').item.json.thresholds[$('Config').item.json.symbol] }}%\nâ° ç›‘æ§æ¥æº: Finnhub Real-time",
          "options": {}
        },
        "type": "n8n-nodes-base.emailSend",
        "typeVersion": 2.1,
        "position": [
          576,
          -256
        ],
        "id": "ca13c461-c113-4646-ad89-1bd971ac1f97",
        "name": "Send email",
        "alwaysOutputData": true
      }
    ],
    "pinData": {},
    "connections": {
      "Schedule Trigger": {
        "main": [
          [
            {
              "node": "Config",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Config": {
        "main": [
          [
            {
              "node": "HTTP Request",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTTP Request": {
        "main": [
          [
            {
              "node": "If",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If": {
        "main": [
          [
            {
              "node": "Send email",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      }
    },
    "active": false,
    "settings": {
      "executionOrder": "v1"
    },
    "versionId": "1",
    "meta": {
      "templateCredsSetupCompleted": true
    },
    "id": "StockVest_MVP",
    "tags": []
  }